{"ast":null,"code":"import { setTimeout, clearTimeout } from '../timer';\n// use lodash API\nexport function throttle(fn, wait, options) {\n  var needLeadingExecution = options && options.leading !== undefined ? options.leading : true;\n  var needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true;\n  var inWaitPeriod = false;\n  var pendingExecutionWithParameters;\n  var pendingTimeoutId;\n  return {\n    throttled: function () {\n      var parameters = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        parameters[_i] = arguments[_i];\n      }\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters;\n        return;\n      }\n      if (needLeadingExecution) {\n        fn.apply(void 0, parameters);\n      } else {\n        pendingExecutionWithParameters = parameters;\n      }\n      inWaitPeriod = true;\n      pendingTimeoutId = setTimeout(function () {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn.apply(void 0, pendingExecutionWithParameters);\n        }\n        inWaitPeriod = false;\n        pendingExecutionWithParameters = undefined;\n      }, wait);\n    },\n    cancel: function () {\n      clearTimeout(pendingTimeoutId);\n      inWaitPeriod = false;\n      pendingExecutionWithParameters = undefined;\n    }\n  };\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}","map":{"version":3,"names":["setTimeout","clearTimeout","throttle","fn","wait","options","needLeadingExecution","leading","undefined","needTrailingExecution","trailing","inWaitPeriod","pendingExecutionWithParameters","pendingTimeoutId","throttled","parameters","_i","arguments","length","apply","cancel","noop"],"sources":["D:\\edu'\\Spritle\\spritle\\node_modules\\@datadog\\browser-core\\src\\tools\\utils\\functionUtils.ts"],"sourcesContent":["import type { TimeoutId } from '../timer'\nimport { setTimeout, clearTimeout } from '../timer'\n\n// use lodash API\nexport function throttle<T extends (...args: any[]) => void>(\n  fn: T,\n  wait: number,\n  options?: { leading?: boolean; trailing?: boolean }\n) {\n  const needLeadingExecution = options && options.leading !== undefined ? options.leading : true\n  const needTrailingExecution = options && options.trailing !== undefined ? options.trailing : true\n  let inWaitPeriod = false\n  let pendingExecutionWithParameters: Parameters<T> | undefined\n  let pendingTimeoutId: TimeoutId\n\n  return {\n    throttled: (...parameters: Parameters<T>) => {\n      if (inWaitPeriod) {\n        pendingExecutionWithParameters = parameters\n        return\n      }\n      if (needLeadingExecution) {\n        fn(...parameters)\n      } else {\n        pendingExecutionWithParameters = parameters\n      }\n      inWaitPeriod = true\n      pendingTimeoutId = setTimeout(() => {\n        if (needTrailingExecution && pendingExecutionWithParameters) {\n          fn(...pendingExecutionWithParameters)\n        }\n        inWaitPeriod = false\n        pendingExecutionWithParameters = undefined\n      }, wait)\n    },\n    cancel: () => {\n      clearTimeout(pendingTimeoutId)\n      inWaitPeriod = false\n      pendingExecutionWithParameters = undefined\n    },\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n"],"mappings":"AACA,SAASA,UAAU,EAAEC,YAAY,QAAQ,UAAU;AAEnD;AACA,OAAM,SAAUC,QAAQA,CACtBC,EAAK,EACLC,IAAY,EACZC,OAAmD;EAEnD,IAAMC,oBAAoB,GAAGD,OAAO,IAAIA,OAAO,CAACE,OAAO,KAAKC,SAAS,GAAGH,OAAO,CAACE,OAAO,GAAG,IAAI;EAC9F,IAAME,qBAAqB,GAAGJ,OAAO,IAAIA,OAAO,CAACK,QAAQ,KAAKF,SAAS,GAAGH,OAAO,CAACK,QAAQ,GAAG,IAAI;EACjG,IAAIC,YAAY,GAAG,KAAK;EACxB,IAAIC,8BAAyD;EAC7D,IAAIC,gBAA2B;EAE/B,OAAO;IACLC,SAAS,EAAE,SAAAA,CAAA;MAAC,IAAAC,UAAA;WAAA,IAAAC,EAAA,IAA4B,EAA5BA,EAAA,GAAAC,SAAA,CAAAC,MAA4B,EAA5BF,EAAA,EAA4B;QAA5BD,UAAA,CAAAC,EAAA,IAAAC,SAAA,CAAAD,EAAA;;MACV,IAAIL,YAAY,EAAE;QAChBC,8BAA8B,GAAGG,UAAU;QAC3C;MACF;MACA,IAAIT,oBAAoB,EAAE;QACxBH,EAAE,CAAAgB,KAAA,SAAIJ,UAAU;MAClB,CAAC,MAAM;QACLH,8BAA8B,GAAGG,UAAU;MAC7C;MACAJ,YAAY,GAAG,IAAI;MACnBE,gBAAgB,GAAGb,UAAU,CAAC;QAC5B,IAAIS,qBAAqB,IAAIG,8BAA8B,EAAE;UAC3DT,EAAE,CAAAgB,KAAA,SAAIP,8BAA8B;QACtC;QACAD,YAAY,GAAG,KAAK;QACpBC,8BAA8B,GAAGJ,SAAS;MAC5C,CAAC,EAAEJ,IAAI,CAAC;IACV,CAAC;IACDgB,MAAM,EAAE,SAAAA,CAAA;MACNnB,YAAY,CAACY,gBAAgB,CAAC;MAC9BF,YAAY,GAAG,KAAK;MACpBC,8BAA8B,GAAGJ,SAAS;IAC5C;GACD;AACH;AAEA;AACA,OAAM,SAAUa,IAAIA,CAAA,GAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}