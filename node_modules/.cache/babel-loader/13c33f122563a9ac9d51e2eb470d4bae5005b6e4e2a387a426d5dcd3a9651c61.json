{"ast":null,"code":"import { RecordType } from '../../../types';\nexport function trackFrustration(lifeCycle, frustrationCb, recordIds) {\n  var frustrationSubscription = lifeCycle.subscribe(12 /* LifeCycleEventType.RAW_RUM_EVENT_COLLECTED */, function (data) {\n    var _a, _b, _c;\n    if (data.rawRumEvent.type === \"action\" /* RumEventType.ACTION */ && data.rawRumEvent.action.type === \"click\" /* ActionType.CLICK */ && ((_b = (_a = data.rawRumEvent.action.frustration) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.length) && 'events' in data.domainContext && ((_c = data.domainContext.events) === null || _c === void 0 ? void 0 : _c.length)) {\n      frustrationCb({\n        timestamp: data.rawRumEvent.date,\n        type: RecordType.FrustrationRecord,\n        data: {\n          frustrationTypes: data.rawRumEvent.action.frustration.type,\n          recordIds: data.domainContext.events.map(function (e) {\n            return recordIds.getIdForEvent(e);\n          })\n        }\n      });\n    }\n  });\n  return {\n    stop: function () {\n      frustrationSubscription.unsubscribe();\n    }\n  };\n}","map":{"version":3,"names":["RecordType","trackFrustration","lifeCycle","frustrationCb","recordIds","frustrationSubscription","subscribe","data","rawRumEvent","type","action","_b","_a","frustration","length","domainContext","_c","events","timestamp","date","FrustrationRecord","frustrationTypes","map","e","getIdForEvent","stop","unsubscribe"],"sources":["D:\\edu'\\Spritle\\spritle\\node_modules\\@datadog\\browser-rum\\src\\domain\\record\\trackers\\trackFrustration.ts"],"sourcesContent":["import type { LifeCycle } from '@datadog/browser-rum-core'\nimport { ActionType, RumEventType, LifeCycleEventType } from '@datadog/browser-rum-core'\nimport type { FrustrationRecord } from '../../../types'\nimport { RecordType } from '../../../types'\nimport type { RecordIds } from '../recordIds'\nimport type { Tracker } from './types'\n\nexport type FrustrationCallback = (record: FrustrationRecord) => void\n\nexport function trackFrustration(\n  lifeCycle: LifeCycle,\n  frustrationCb: FrustrationCallback,\n  recordIds: RecordIds\n): Tracker {\n  const frustrationSubscription = lifeCycle.subscribe(LifeCycleEventType.RAW_RUM_EVENT_COLLECTED, (data) => {\n    if (\n      data.rawRumEvent.type === RumEventType.ACTION &&\n      data.rawRumEvent.action.type === ActionType.CLICK &&\n      data.rawRumEvent.action.frustration?.type?.length &&\n      'events' in data.domainContext &&\n      data.domainContext.events?.length\n    ) {\n      frustrationCb({\n        timestamp: data.rawRumEvent.date,\n        type: RecordType.FrustrationRecord,\n        data: {\n          frustrationTypes: data.rawRumEvent.action.frustration.type,\n          recordIds: data.domainContext.events.map((e) => recordIds.getIdForEvent(e)),\n        },\n      })\n    }\n  })\n\n  return {\n    stop: () => {\n      frustrationSubscription.unsubscribe()\n    },\n  }\n}\n"],"mappings":"AAGA,SAASA,UAAU,QAAQ,gBAAgB;AAM3C,OAAM,SAAUC,gBAAgBA,CAC9BC,SAAoB,EACpBC,aAAkC,EAClCC,SAAoB;EAEpB,IAAMC,uBAAuB,GAAGH,SAAS,CAACI,SAAS,sDAA6C,UAACC,IAAI;;IACnG,IACEA,IAAI,CAACC,WAAW,CAACC,IAAI,2CACrBF,IAAI,CAACC,WAAW,CAACE,MAAM,CAACD,IAAI,wCAC5B,CAAAE,EAAA,IAAAC,EAAA,GAAAL,IAAI,CAACC,WAAW,CAACE,MAAM,CAACG,WAAW,cAAAD,EAAA,uBAAAA,EAAA,CAAEH,IAAI,cAAAE,EAAA,uBAAAA,EAAA,CAAEG,MAAM,KACjD,QAAQ,IAAIP,IAAI,CAACQ,aAAa,KAC9B,CAAAC,EAAA,GAAAT,IAAI,CAACQ,aAAa,CAACE,MAAM,cAAAD,EAAA,uBAAAA,EAAA,CAAEF,MAAM,GACjC;MACAX,aAAa,CAAC;QACZe,SAAS,EAAEX,IAAI,CAACC,WAAW,CAACW,IAAI;QAChCV,IAAI,EAAET,UAAU,CAACoB,iBAAiB;QAClCb,IAAI,EAAE;UACJc,gBAAgB,EAAEd,IAAI,CAACC,WAAW,CAACE,MAAM,CAACG,WAAW,CAACJ,IAAI;UAC1DL,SAAS,EAAEG,IAAI,CAACQ,aAAa,CAACE,MAAM,CAACK,GAAG,CAAC,UAACC,CAAC;YAAK,OAAAnB,SAAS,CAACoB,aAAa,CAACD,CAAC,CAAC;UAA1B,CAA0B;;OAE7E,CAAC;IACJ;EACF,CAAC,CAAC;EAEF,OAAO;IACLE,IAAI,EAAE,SAAAA,CAAA;MACJpB,uBAAuB,CAACqB,WAAW,EAAE;IACvC;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}