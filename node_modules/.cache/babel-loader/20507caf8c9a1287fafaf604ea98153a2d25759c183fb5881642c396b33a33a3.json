{"ast":null,"code":"import { timeStampNow } from '@datadog/browser-core';\nimport { RecordType } from '../../../types';\nexport function trackViewEnd(lifeCycle, viewEndCb) {\n  var viewEndSubscription = lifeCycle.subscribe(5 /* LifeCycleEventType.VIEW_ENDED */, function () {\n    viewEndCb({\n      timestamp: timeStampNow(),\n      type: RecordType.ViewEnd\n    });\n  });\n  return {\n    stop: function () {\n      viewEndSubscription.unsubscribe();\n    }\n  };\n}","map":{"version":3,"names":["timeStampNow","RecordType","trackViewEnd","lifeCycle","viewEndCb","viewEndSubscription","subscribe","timestamp","type","ViewEnd","stop","unsubscribe"],"sources":["D:\\edu'\\Spritle\\spritle\\node_modules\\@datadog\\browser-rum\\src\\domain\\record\\trackers\\trackViewEnd.ts"],"sourcesContent":["import { timeStampNow } from '@datadog/browser-core'\nimport type { LifeCycle } from '@datadog/browser-rum-core'\nimport { LifeCycleEventType } from '@datadog/browser-rum-core'\nimport type { ViewEndRecord } from '../../../types'\nimport { RecordType } from '../../../types'\nimport type { Tracker } from './types'\n\nexport type ViewEndCallback = (record: ViewEndRecord) => void\n\nexport function trackViewEnd(lifeCycle: LifeCycle, viewEndCb: ViewEndCallback): Tracker {\n  const viewEndSubscription = lifeCycle.subscribe(LifeCycleEventType.VIEW_ENDED, () => {\n    viewEndCb({\n      timestamp: timeStampNow(),\n      type: RecordType.ViewEnd,\n    })\n  })\n\n  return {\n    stop: () => {\n      viewEndSubscription.unsubscribe()\n    },\n  }\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,uBAAuB;AAIpD,SAASC,UAAU,QAAQ,gBAAgB;AAK3C,OAAM,SAAUC,YAAYA,CAACC,SAAoB,EAAEC,SAA0B;EAC3E,IAAMC,mBAAmB,GAAGF,SAAS,CAACG,SAAS,wCAAgC;IAC7EF,SAAS,CAAC;MACRG,SAAS,EAAEP,YAAY,EAAE;MACzBQ,IAAI,EAAEP,UAAU,CAACQ;KAClB,CAAC;EACJ,CAAC,CAAC;EAEF,OAAO;IACLC,IAAI,EAAE,SAAAA,CAAA;MACJL,mBAAmB,CAACM,WAAW,EAAE;IACnC;GACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}