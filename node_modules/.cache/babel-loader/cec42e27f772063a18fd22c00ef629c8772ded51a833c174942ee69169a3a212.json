{"ast":null,"code":"import { removeItem } from './utils/arrayUtils';\nvar BUFFER_LIMIT = 500;\nvar BoundedBuffer = /** @class */function () {\n  function BoundedBuffer() {\n    this.buffer = [];\n  }\n  BoundedBuffer.prototype.add = function (callback) {\n    var length = this.buffer.push(callback);\n    if (length > BUFFER_LIMIT) {\n      this.buffer.splice(0, 1);\n    }\n  };\n  BoundedBuffer.prototype.remove = function (callback) {\n    removeItem(this.buffer, callback);\n  };\n  BoundedBuffer.prototype.drain = function (arg) {\n    this.buffer.forEach(function (callback) {\n      return callback(arg);\n    });\n    this.buffer.length = 0;\n  };\n  return BoundedBuffer;\n}();\nexport { BoundedBuffer };","map":{"version":3,"names":["removeItem","BUFFER_LIMIT","BoundedBuffer","buffer","prototype","add","callback","length","push","splice","remove","drain","arg","forEach"],"sources":["D:\\edu'\\Spritle\\spritle\\node_modules\\@datadog\\browser-core\\src\\tools\\boundedBuffer.ts"],"sourcesContent":["import { removeItem } from './utils/arrayUtils'\n\nconst BUFFER_LIMIT = 500\n\nexport class BoundedBuffer<T = void> {\n  private buffer: Array<(arg: T) => void> = []\n\n  add(callback: (arg: T) => void) {\n    const length = this.buffer.push(callback)\n    if (length > BUFFER_LIMIT) {\n      this.buffer.splice(0, 1)\n    }\n  }\n\n  remove(callback: (arg: T) => void) {\n    removeItem(this.buffer, callback)\n  }\n\n  drain(arg: T) {\n    this.buffer.forEach((callback) => callback(arg))\n    this.buffer.length = 0\n  }\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,oBAAoB;AAE/C,IAAMC,YAAY,GAAG,GAAG;AAExB,IAAAC,aAAA;EAAA,SAAAA,cAAA;IACU,KAAAC,MAAM,GAA4B,EAAE;EAiB9C;EAfED,aAAA,CAAAE,SAAA,CAAAC,GAAG,GAAH,UAAIC,QAA0B;IAC5B,IAAMC,MAAM,GAAG,IAAI,CAACJ,MAAM,CAACK,IAAI,CAACF,QAAQ,CAAC;IACzC,IAAIC,MAAM,GAAGN,YAAY,EAAE;MACzB,IAAI,CAACE,MAAM,CAACM,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAC1B;EACF,CAAC;EAEDP,aAAA,CAAAE,SAAA,CAAAM,MAAM,GAAN,UAAOJ,QAA0B;IAC/BN,UAAU,CAAC,IAAI,CAACG,MAAM,EAAEG,QAAQ,CAAC;EACnC,CAAC;EAEDJ,aAAA,CAAAE,SAAA,CAAAO,KAAK,GAAL,UAAMC,GAAM;IACV,IAAI,CAACT,MAAM,CAACU,OAAO,CAAC,UAACP,QAAQ;MAAK,OAAAA,QAAQ,CAACM,GAAG,CAAC;IAAb,CAAa,CAAC;IAChD,IAAI,CAACT,MAAM,CAACI,MAAM,GAAG,CAAC;EACxB,CAAC;EACH,OAAAL,aAAC;AAAD,CAAC,CAlBD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}